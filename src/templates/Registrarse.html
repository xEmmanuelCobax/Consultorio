{% extends 'Top-navbar.html' %}

{% block style %}
<style>
    .register-container {
        margin-top: 50px;
    }

    .register-form {
        padding: 20px;
        border: 1px solid #ddd;
        border-radius: 10px;
        background-color: #fff;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
    }

    .register-form h2 {
        margin-bottom: 20px;
        font-weight: bold;
    }

    .form-control {
        margin-bottom: 15px;
    }

    .register-button {
        background-color: #00c0f0;
        border-color: #00c0f0;
        color: white;
    }

    .register-button:hover {
        background-color: #008fb3;
        border-color: #008fb3;
    }

    .image-container {
        text-align: center;
    }

    .image-container img {
        max-width: 100%;
        height: auto;
    }
</style>
{% endblock %}

{% block content %}
<div class="container-fluid mx-4 mb-4 register-container">
    <div class="d-flex justify-content-center align-items-center" style="height: 90vh">
        <div class="col-xl-10">
            <div class="row">
                <!-- Columnas para la imagen -->
                <div class="col-xl-4 offset-xl-1 mb-2 mb-xl-0 d-none d-lg-block">
                    <!-- Aquí se coloca la imagen -->
                    <img src="{{url_for('static', filename='img/icons/Doctor Icon.png')}}" class="img-fluid"
                        alt="Phone image" />
                </div>
                <!-- Columnas para el formulario -->
                <div class="col-xl-5 offset-xl-1">
                    <!-- Aquí comienza la sección del formulario -->
                    <form method="post" action="" id="">
                        <h1 class="fw-bold mb-2 signin__titulo text-center">Registrarse</h1>
                        <!-- NOMBRE -->
                        <div class="form-outline mb-2">
                            <label for="username">Nombres</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control mt-2 {% if user_found %}is-invalid{% endif %}"
                                    id="name" name="name" required pattern="[A-Za-záéíóúÁÉÍÓÚñÑ\s]+"
                                    title="Solo se permiten letras y espacios"
                                    oninput="this.value = this.value.replace(/[^A-Za-záéíóúÁÉÍÓÚñÑ\s]/g, '')"
                                    data-bs-toggle="tooltip-user-found" data-bs-placement="left"
                                    data-bs-custom-class="custom-tooltip"
                                    data-bs-title="{% if user_found %}Estos nombres ya han sido registrados.{% else %}Ingresa tus nombres.{% endif %}" />
                            </div>
                        </div>
                        
                        <!-- Apellidos input -->
                        <div class="form-outline mb-2">
                            <div class="row">
                                <!-- apellido paterno -->
                                <div class="col-md-5 mb-md-0">
                                    <label for="apellidoPaterno">Apellido paterno</label>
                                    <div>
                                        <input type="text"
                                            class="form-control mt-2 {% if paternal_lastname_error %}is-invalid{% endif %} {% if paternal_lastname_valid %}is-valid{% endif %}"
                                            id="apellidoPaterno" name="paternal_lastname" required
                                            oninput="this.value = this.value.replace(/[^A-Za-záéíóúÁÉÍÓÚñÑ\s]/g, '')"
                                            data-bs-toggle="tooltip" data-bs-placement="left"
                                            data-bs-custom-class="custom-tooltip"
                                            />
                                    </div>
                                </div>

                                <!-- apellido materno -->
                                <div class="col-md-5">
                                    <label for="apellidoMaterno">Apellido materno</label>
                                    <div>
                                        <input type="text"
                                            class="form-control mt-2"
                                            id="apellidoMaterno" name="maternal_lastname"
                                            oninput="this.value = this.value.replace(/[^A-Za-záéíóúÁÉÍÓÚñÑ\s]/g, '')"
                                            data-bs-toggle="tooltip" data-bs-placement="left"
                                            data-bs-custom-class="custom-tooltip">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Email -->
                        <div class="form-outline mb-2">
                            <label for="email">Correo electrónico</label>
                            <div class="col-sm-10">
                                <input type="email" class="form-control mt-2"
                                    id="email" name="email" required data-bs-toggle="tooltip" data-bs-placement="left"
                                    data-bs-custom-class="custom-tooltip" />
                            </div>
                        </div>

                        <!-- Teléfono -->
                            <div class="form-outline mb-2">
                                <label for="telefono">Teléfono</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control mt-2 {% if user_found %}is-invalid{% endif %}" id="telefono" name="telefono"
                                    required pattern="[A-Za-záéíóúÁÉÍÓÚñÑ\s]+" title="Solo se permiten letras y espacios"
                                    oninput="this.value = this.value.replace(/[^A-Za-záéíóúÁÉÍÓÚñÑ\s]/g, '')"
                                    data-bs-toggle="tooltip-user-found" data-bs-placement="left" data-bs-custom-class="custom-tooltip"
                                    data-bs-title="{% if user_found %}Estos nombres ya han sido registrados.{% else %}Ingresa tus nombres.{% endif %}" />
                                </div>
                        </div>

                        <!-- RFC -->
                        <div class="form-outline mb-2">
                            <label for="rfc">RFC</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control mt-2 {% if user_found %}is-invalid{% endif %}" id="rfc" name="rfc"
                                    required pattern="[A-Za-záéíóúÁÉÍÓÚñÑ\s]+" title="Solo se permiten letras y espacios"
                                    oninput="this.value = this.value.replace(/[^A-Za-záéíóúÁÉÍÓÚñÑ\s]/g, '')"
                                    data-bs-toggle="tooltip-user-found" data-bs-placement="left" data-bs-custom-class="custom-tooltip"
                                    data-bs-title="{% if user_found %}Estos nombres ya han sido registrados.{% else %}Ingresa tus nombres.{% endif %}" />
                            </div>
                        </div>
                        <div class="form-check mb-2">
                            <input class="form-check-input" type="checkbox" value="1" id="registro-doctor" name="registro-doctor">
                            <label class="form-check-label" for="flexCheckDefault">Registrarse como doctor</label>
                          </div>

                        <!-- Cédula Profesional -->
                            <div class="form-outline mb-2" id="show-cedula">
                                <label for="cedula">Cédula Profesional</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control mt-2 {% if user_found %}is-invalid{% endif %}" id="cedula" name="cedula"
                                        data-bs-toggle="tooltip-user-found" data-bs-placement="left" data-bs-custom-class="custom-tooltip"
                                        data-bs-title="{% if user_found %}Estos nombres ya han sido registrados.{% else %}Ingresa tus nombres.{% endif %}" />
                                    </div>
                            </div>

                        <!-- Password input -->
                        <div class="form-outline mb-2">
                            <label for="password">Contraseña</label>
                            <div class="col-sm-10">
                                <div class="input-group">
                                    <input type="password" class="form-control mt-2 signup__password" id="password"
                                        name="password" required data-bs-toggle="tooltip" data-bs-placement="left"
                                        data-bs-custom-class="custom-tooltip"
                                        data-bs-title="La contraseña debe al menos tener 8 caracteres de largo" />
                                    <div class="mt-2">
                                        <button class="btn btn-outline-secondary" type="button" id="generatePassword">
                                            Generar
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>


                            <div class="d-flex flex-column align-items-left mb-2 sigin__remember">
                                <div class="">
                                    <a>¿Cuentas con una cuenta?</a>
                                    <a href="" class="forget">Iniciar sesión</a>
                                </div>
                            </div>
                        <!-- Submit button -->
                        <button type="submit" class="btn__form btn btn-primary btn-lg btn-block" id="submitButton">
                            Registrarse
                        </button>
                    </form>
                    <!-- Fin del formulario -->
                </div>
                <!-- Fin de la columna -->
            </div>
            <!-- Fin de la fila -->
        </div>
    </div>
</div>

<script>
    const checkbox = document.getElementById('registro-doctor')

    checkbox.addEventListener('change', (event) => {
        if (event.currentTarget.checked) {
            console.log('Elegir doctor')

            document.getElementById('show-cedula').removeAttribute('hidden')
            document.getElementById('cedula').setAttribute('required', 'true')
        } else {
            document.getElementById('show-cedula').setAttribute('hidden', 'true')
            document.getElementById('cedula').removeAttribute('required')
        }
    })
    var event = new Event('change');
    checkbox.dispatchEvent(event);

</script>

{% endblock %}